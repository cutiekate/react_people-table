(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{20:function(e,t,a){e.exports=a(30)},25:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(17),o=a.n(r),c=a(6),s=a(1),i=(a(25),a(9)),u=a(13),m=a(18),d=a.n(m),v=function(e){var t=e.person;return l.a.createElement(c.b,{to:"/people/".concat(t.slug)},t.name)},p=function(e){var t=e.person,a="m"===t.sex?"blue":"red",n=Object(s.i)().slug;return l.a.createElement("tr",{className:t.slug===n?"table__row is-selected":"table__row",key:t.slug},l.a.createElement("td",{className:"table__data"},l.a.createElement(v,{person:t})),l.a.createElement("td",{className:"table__data ".concat("m"===t.sex||"f"===t.sex?a:"")},t.sex),l.a.createElement("td",{className:"table__data"},t.born),l.a.createElement("td",{className:"table__data"},t.died),l.a.createElement("td",{className:"table__data"},void 0!==t.mother?l.a.createElement(v,{person:t.mother}):t.motherName),l.a.createElement("td",{className:"table__data"},void 0!==t.father?l.a.createElement(v,{person:t.father}):t.fatherName))},h=function(e){var t=e.people,a=["Born","Died","Name","Sex"],r=Object(n.useState)([]),o=Object(i.a)(r,2),c=o[0],u=o[1],m=Object(s.g)(),d=Object(s.h)(),v=new URLSearchParams(d.search),h=v.get("sortBy")||"",b=v.get("sortOrder")||"";return Object(n.useMemo)((function(){""!==h&&t.sort((function(e,t){var a,n,l,r;switch(h){case"Sex":return"asc"===b?null===e||void 0===e||null===(a=e.sex)||void 0===a?void 0:a.localeCompare(null===t||void 0===t?void 0:t.sex):null===t||void 0===t||null===(n=t.sex)||void 0===n?void 0:n.localeCompare(null===e||void 0===e?void 0:e.sex);case"Born":return"asc"===b?+(null===e||void 0===e?void 0:e.born)-+(null===t||void 0===t?void 0:t.born):+(null===t||void 0===t?void 0:t.born)-+(null===e||void 0===e?void 0:e.born);case"Died":return"asc"===b?+(null===t||void 0===t?void 0:t.died)-+(null===e||void 0===e?void 0:e.died):(null===e||void 0===e?void 0:e.died)-+(null===t||void 0===t?void 0:t.died);case"Name":return"asc"===b?null===e||void 0===e||null===(l=e.name)||void 0===l?void 0:l.localeCompare(null===t||void 0===t?void 0:t.name):null===t||void 0===t||null===(r=t.name)||void 0===r?void 0:r.localeCompare(null===e||void 0===e?void 0:e.name);default:return 0}})),u(t)}),[t,b,h]),l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:""},l.a.createElement("tr",null,["Name","Sex","Born","Died","Mother","Father"].map((function(e){return l.a.createElement("th",{key:e,onClick:function(){a.includes(e)&&(v.set("sortBy",e),v.set("sortOrder","asc"===b?"desc":"asc"),m.push({search:v.toString()}))}},e,h===e&&l.a.createElement("span",null,"*"))})))),l.a.createElement("tbody",null,c&&c.map((function(e){return l.a.createElement(p,{key:e.slug,person:e})}))))};var b=function(){var e,t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],o=a[1];Object(n.useEffect)((function(){fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){return e.json()})).then((function(e){var t=e.map((function(t){return function(e,t){return Object(u.a)(Object(u.a)({},e),{},{mother:t.find((function(t){return t.name===e.motherName})),father:t.find((function(t){return t.name===e.fatherName}))})}(t,e)}));o(t)}))}));var c=Object(s.g)(),m=Object(s.h)(),v=d()((function(e){c.push({search:"?query=".concat(e)})}),1e3),p=(null===(e=new URLSearchParams(m.search).get("query"))||void 0===e?void 0:e.toLocaleLowerCase())||"",b=Object(n.useState)(),f=Object(i.a)(b,2),E=f[0],N=f[1],g=r.filter((function(e){var t,a;return e.name.toLowerCase().includes(p)||(null===(t=e.fatherName)||void 0===t?void 0:t.toLowerCase().includes(p))||(null===(a=e.motherName)||void 0===a?void 0:a.toLowerCase().includes(p))}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{className:"title is-2 is-spaced header"},"People page"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",placeholder:"enter person name",value:E,onChange:function(e){e.target&&(N(e.target.value),v(e.target.value))}})),r&&l.a.createElement(h,{people:g}))},f=function(){return l.a.createElement("h3",{className:"title is-2 is-spaced header"},"Home")},E=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"menu"},l.a.createElement("ul",{className:"menu-list"},l.a.createElement("li",null,l.a.createElement(c.c,{to:"/",exact:!0,className:"nav__link"},"Home")),l.a.createElement("li",null,l.a.createElement(c.c,{to:"/people",className:"nav__link"},"PeoplePage")))),l.a.createElement(s.d,null,l.a.createElement(s.b,{path:"/",exact:!0,component:f}),l.a.createElement(s.a,{from:"/home",to:"/"}),l.a.createElement(s.b,{path:"/people/:slug?",component:b}),l.a.createElement(s.b,{component:function(){return l.a.createElement("h3",{className:"title is-2 is-spaced header"},"Page not found")}})))};o.a.render(l.a.createElement(c.a,null,l.a.createElement(E,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.23f6ccde.chunk.js.map